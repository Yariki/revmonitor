chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
    if (request.action == "show") {
        chrome.tabs.query({active: true},result => {
            if(result.length > 0){
                chrome.pageAction.show(result[0].id);
            }
        });
    }
});

var Urls = (function () {
    return {
        Details: "https://www.rev.com/workspace/project/",
        Claim: ""
    }
})();

var detailsPageSource = "<!doctypehtml><html lang=en-us><!--<![endif]--><head xmlns:fb=http://www.facebook.com/2008/fbml xmlns:og=http://ogp.me/ns#><meta content=\"text/html; charset=UTF-8\"http-equiv=Content-Type><title>Project - TR0193648697P-1</title><meta content=\"Project - TR0193648697P-1\"property=og:title><meta content=website property=og:type><meta content=Rev property=og:site_name><meta content=\"Online audio transcription, video captions, and document translation services. Serving more than 100k customers worldwide.\"property=og:description><meta content=https://www.rev.com/content/curve/img/home/rev_twittercard.jpg property=og:image><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=https://www.rev.com/workspace/project/TR0193648697P-1 property=og:url><meta content=199170300134516 property=fb:app_id><meta content=summary_large_image property=twitter:card><meta content=@rev property=twitter:site><link href=https://www.rev.com/workspace/project/TR0193648697P-1 rel=canonical><meta content=1318-0 name=fox:build><link href=https://www.rev.com/content/img/rev/favicon.ico rel=\"shortcut icon\"type=image/x-icon><meta content=noindex name=robots><script src=\"./Project - TR0193648697P-1_files/mixpanel-2-latest.min.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/fbevents.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/gtm.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/embed.js.download\"async id=directlyRTMScript></script><script src=\"./Project - TR0193648697P-1_files/gtm.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/analytics.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/raygun.min.js.download\"async></script><script src=\"./Project - TR0193648697P-1_files/fs.js.download\"async></script><script>window._fs_debug=!1,window._fs_host=\"fullstory.com\",window._fs_org=\"10Qs\",window._fs_namespace=\"FS\",function(e,s,n,o,i,t,c,a){n in e?e.console&&e.console.log&&e.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].'):((c=e[n]=function(e,n){c.q?c.q.push([e,n]):c._api(e,n)}).q=[],(t=s.createElement(o)).async=1,t.src=\"https://\"+_fs_host+\"/s/fs.js\",(a=s.getElementsByTagName(o)[0]).parentNode.insertBefore(t,a),c.identify=function(e,n){c(i,{uid:e}),n&&c(i,n)},c.setUserVars=function(e){c(i,e)},c.identifyAccount=function(e,n){t=\"account\",(n=n||{}).acctId=e,c(t,n)},c.clearUserCookie=function(e,n,o){if(!e||document.cookie.match(\"fs_uid=[`;`]*`[`;`]*`[`;`]*`\"))for(n=s.domain;s.cookie=\"fs_uid=;domain=\"+n+\";path=/;expires=\"+new Date(0).toUTCString(),!((o=n.indexOf(\".\"))<0);)n=n.slice(o+1)})}(window,document,window._fs_namespace,\"script\",\"user\")</script><script>window.addEventListener(\"load\",function(){window.FS&&window.FS.identify(\"14\",{displayName:\"Svetlana\",email:\"mirlanochka@gmail.com\"})})</script><!--[if lt IE 9]><script src=//html5shim.googlecode.com/svn/trunk/html5.js></script><![endif]--><script src=\"./Project - TR0193648697P-1_files/jquery.min.js.download\"></script><script>window.jQuery||document.write('<script src=\"/build/Vendor/jquery-1.11.1.min.js\"><\\/script>')</script><script src=\"./Project - TR0193648697P-1_files/jquery-migrate-1.2.1.min.js.download\"></script><script>!function(){var e=new Date,t=0-e.getTimezoneOffset(),a=new Date;a.setFullYear(e.getFullYear()+5),document.cookie=\"ft_tz=\"+escape(t)+\";expires=\"+a.toGMTString()+\";path=/\"}()</script><link href=\"./Project - TR0193648697P-1_files/bootstrap3.less\"rel=stylesheet><script src=\"./Project - TR0193648697P-1_files/bootstrap.js.download\"></script><script>!function(){var e=document,t=e.createElement(\"script\");if(!(\"noModule\"in t)&&\"onbeforeload\"in t){var n=!1;e.addEventListener(\"beforeload\",function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute(\"nomodule\")||!n)return;e.preventDefault()},!0),t.type=\"module\",t.src=\".\",e.head.appendChild(t),t.remove()}}()</script><script src=\"./Project - TR0193648697P-1_files/polyfills.bundle.js.download\"nomodule=\"\"></script><script src=\"./Project - TR0193648697P-1_files/common.js.download\"></script><script src=\"./Project - TR0193648697P-1_files/common.bundle.js.download\"></script><link href=\"./Project - TR0193648697P-1_files/app.less\"rel=stylesheet><script>!function(a,r,e,n,g,o,s,i){a.RaygunObject=g,a[g]=a[g]||function(){(a[g].o=a[g].o||[]).push(arguments)},o=r.createElement(e),s=r.getElementsByTagName(e)[0],o.async=1,o.src=\"//cdn.raygun.io/raygun4js/raygun.min.js\",s.parentNode.insertBefore(o,s),i=a.onerror,a.onerror=function(r,e,n,o,s){i&&i(r,e,n,o,s),s||(s=new Error(r)),a[g].q=a[g].q||[],a[g].q.push({e:s})}}(window,document,\"script\",0,\"rg4js\"),rg4js(\"options\",{debugMode:!0,ignoreAjaxAbort:!0,ignoreAjaxError:!0,ignore3rdPartyErrors:!0}),rg4js(\"apiKey\",\"eIWQURn3Q+LVjvLWfppMgA==\"),rg4js(\"enableCrashReporting\",!0),rg4js(\"withTags\",[\"Marketplace\",\"Workspace\"]),rg4js(\"setUser\",{identifier:\"14\",fullName:\"Svetlana Lisovska\",isAnonymous:!1}),window.rg4js=rg4js</script><link href=\"./Project - TR0193648697P-1_files/workspace.less\"rel=stylesheet><script src=\"./Project - TR0193648697P-1_files/react.js.download\"></script><script src=\"./Project - TR0193648697P-1_files/workspace.js.download\"></script><script src=\"./Project - TR0193648697P-1_files/find-work.bundle.js.download\"></script><script src=\"./Project - TR0193648697P-1_files/workspace.bundle.js.download\"></script><link href=\"./Project - TR0193648697P-1_files/project.less\"rel=stylesheet><link href=\"./Project - TR0193648697P-1_files/rate.less\"rel=stylesheet><link href=\"./Project - TR0193648697P-1_files/rateit.less\"rel=stylesheet><link href=\"./Project - TR0193648697P-1_files/font-awesome.css\"rel=stylesheet><script src=\"./Project - TR0193648697P-1_files/fileManagement.js.download\"></script><script>if(function(e,a,n,t,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),o=a.getElementsByTagName(n)[0],c.async=1,c.src=\"//www.google-analytics.com/analytics.js\",o.parentNode.insertBefore(c,o)}(window,document,\"script\",0,\"ga\"),ga(\"create\",\"UA-18309154-6\",\"auto\"),ga(\"require\",\"ecommerce\",\"ecommerce.js\"),ga(\"set\",\"&uid\",\"14\"),void 0===ga)var ga=function(){};ga(\"set\",\"dimension1\",\"Agent\"),ga(\"send\",\"pageview\")</script><script src=\"./Project - TR0193648697P-1_files/js\"async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag(\"js\",new Date),gtag(\"config\",\"AW-1007079899\")</script><script src=\"./Project - TR0193648697P-1_files/trackingCode.js.download\"async></script><style id=igtranslator-color></style><link href=\"./Project - TR0193648697P-1_files/style.css\"rel=stylesheet crossorigin=anonymous><object class=chrome-extension://jffafkigfgmjafhpkoibhfefeaebmccg/ style=display:none;visibility:hidden></object><body class=app id=ft_Control_0><noscript><iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-BHMQ\"height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({\"gtm.start\":(new Date).getTime(),event:\"gtm.js\"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src=\"//www.googletagmanager.com/gtm.js?id=GTM-BHMQ\",m.parentNode.insertBefore(r,m)}(window,document,\"script\",\"dataLayer\")</script><script>window.addEventListener(\"load\",function(){window.intercomSettings&&(window.intercomSettings.email=\"mirlanochka@gmail.com\")})</script><script>!function(e,t,r,c,i,a,n,s){t[r]=t[r]||function(){(t[r].cq=t[r].cq||[]).push(arguments)},(n=e.createElement(i)).id=\"directlyRTMScript\",n.src=\"https://www.directly.com/widgets/rtm/embed.js\",n.async=1,(s=e.getElementsByTagName(i)[0]).parentNode.insertBefore(n,s)}(document,window,\"DirectlyRTM\",0,\"script\"),DirectlyRTM(\"config\",{id:\"8a12a3ca55d936230155df9a2fe644a4\",displayAskQuestion:!1,questionCategory:\"rtm\",customTags:[\"directly_rtm\"],metadata:{referrer:document.location.href,userAgent:navigator.userAgent}})</script><noscript><iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-BHMQ\"height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({\"gtm.start\":(new Date).getTime(),event:\"gtm.js\"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src=\"//www.googletagmanager.com/gtm.js?id=GTM-BHMQ\",m.parentNode.insertBefore(r,m)}(window,document,\"script\",\"dataLayer\")</script><script>window.addEventListener(\"load\",function(){window.intercomSettings&&(window.intercomSettings.email=\"mirlanochka@gmail.com\")})</script><script>!function(e,n,t,a,c,o,f){e.fbq||(c=e.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},e._fbq||(e._fbq=c),(c.push=c).loaded=!0,c.version=\"2.0\",c.queue=[],(o=n.createElement(t)).async=!0,o.src=\"https://connect.facebook.net/en_US/fbevents.js\",(f=n.getElementsByTagName(t)[0]).parentNode.insertBefore(o,f))}(window,document,\"script\"),fbq(\"init\",\"658102074251173\",{em:\"mirlanochka@gmail.com\"}),fbq(\"track\",\"PageView\")</script><noscript><img src=\"https://www.facebook.com/tr?id=658102074251173&ev=PageView&noscript=1\"height=1 style=display:none width=1></noscript><div class=\"absolute cover w-100\"id=above-the-fold-bg></div><div id=page><div id=main><nav class=\"navbar navbar-static-top\"><div class=container><div class=\"pull-left navbar-header\"><a href=https://www.rev.com/workspace class=navbar-brand><span class=rev-logo></span></a></div><ul class=nav><li class=\"dropdown nav-item\"id=menu-findwork><a class=dropdown-toggle data-toggle=dropdown>Find Work <span class=caret></span></a><ul class=\"dropdown-menu pull-left\"><li><a href=https://www.rev.com/workspace/findwork/Translation class=menu-item id=findwork-translation>Translation</a></ul><li class=\"dropdown nav-item\"id=menu-mywork><a class=dropdown-toggle data-toggle=dropdown>My Work <span class=caret></span></a><ul class=\"dropdown-menu pull-left\"><li><a href=https://www.rev.com/workspace/mywork class=menu-item>My Projects</a><li><a href=https://www.rev.com/workspace/earnings class=menu-item>Earnings</a><li><a href=https://www.rev.com/workspace/EditRequests class=menu-item>Edit Requests</a></ul><li class=\"dropdown nav-item\"id=menu-help><a class=dropdown-toggle data-toggle=dropdown>Help <span class=caret></span></a><ul class=\"dropdown-menu pull-left\"><li><a class=menu-item id=nav-item-askourexperts onclick='DirectlyRTM(\"openAskForm\")'>Ask our Experts</a><li><a href=\"https://rev.zendesk.com/access/login?force_unaltered_return_to=true&return_to=http%3A%2F%2Frev.zendesk.com%2Fhc%2Fen-us\"class=menu-item id=nav-item-helpcenter target=_blank>Help Center</a></ul><li class=nav-item><a href=https://forum.rev.com/ id=nav-item-forum target=_blank :=\"\">Forum</a></ul><div class=pull-right><ul class=\"nav nav-user\"><li class=\"dropdown nav-item\"id=menu-account><a class=dropdown-toggle data-toggle=dropdown>Hello, <b>Svetlana</b> <span class=caret></span></a><ul class=\"dropdown-menu pull-right\"><li><a href=https://www.rev.com/account/settings class=menu-item>Settings</a><li><a href=https://www.rev.com/account/auth/logout class=menu-item>Sign Off</a></ul></ul></div></div></nav><div class=nav-breadcrumb><div class=container><ul class=breadcrumb><li><a href=https://www.rev.com/workspace/findwork><span class=home-icon></span></a><li>MY WORK<li><a href=https://www.rev.com/workspace/mywork>PROJECTS</a><li class=active>TR0193648697P-1</ul></div></div><div class=app><div class=container><div class=new-workspace><div class=row><div class=col-sm-12><div class=\"oe-claim oe-state-header\"><form action=\"https://www.rev.com/workspace/ClaimTranslation?projectNumber=TR0193648697P-1\"id=claim-form method=post><input type=hidden name=__RequestVerificationToken value=ZwGrd6J0yR_A9-00mWiELQB9qwtwHQPsFkSPX2jYG6RPsAy0dO68cM5JpDaxiB7M9y0-pV7g3jTl3XfzI6EUyQq4VujsDWpP8C_u2Ir0fnaTVOJ_0> <input type=hidden name=PriceMultiplierToClaimWith value=1.00000 id=ClaimedPriceMultiplier><div class=\"btn-group left-btns\"><a href=https://www.rev.com/workspace/project/TR0193648697P-1# class=\"btn windows btn-secondary-action\"id=flag-problem-btn><span class=btn-label>Report Problem</span></a></div><span class=oe-state-msg>If claimed, due in 2 hours, 30 minutes</span><div class=\"btn-group right-btns\"><a href=https://www.rev.com/workspace/project/TR0193648697P-1# class=\"btn windows btn-secondary-action ws-submit btn-wide\"id=claim-btn><span class=btn-label>Claim</span></a></div></form></div></div></div><div class=row><div class=col-sm-6><div class=\"section col-equal-height\"style=height:285px><h1 class=header>Customer Information</h1><table class=oe-summary><tr class=oe-summary-row><td class=oe-summary-label>Customer<td class=oe-summary-detail>Tammy Wrisley, Hodgson Russ LLP<tr class=oe-summary-row><td class=oe-summary-label>Customer Comment<td class=\"oe-summary-detail oe-highlighted-info\">Name/Place spellings: Nikolay Panin Yulia Panina</table></div></div><div class=col-sm-6><div class=\"section col-equal-height\"style=height:285px><h1 class=header>Project Details</h1><table class=oe-summary><tr class=oe-summary-row><td class=oe-summary-label>Output<td class=oe-summary-detail><span class=oe-order-type-val>Certified PDF</span><tr class=oe-summary-row><td class=oe-summary-label>Language Pair<td class=oe-summary-detail>ru2en<tr class=oe-summary-row><td class=oe-summary-label>Document Length<td class=oe-summary-detail>1 page(s)<tr class=oe-summary-row><td class=oe-summary-label>Status<td class=oe-summary-detail>Translation not yet claimed<tr class=oe-summary-row><td class=oe-summary-label>Translation<td class=oe-summary-detail>$13.61</table></div></div></div><div class=row><div class=col-md-12><div class=section><div class=\"col oe-files\"id=oe-files><div class=clearfix><div class=pull-right><a href=https://www.rev.com/document/ordsz/193648697.zip class=\"btn windows btn-secondary-action ws-submit btn-new-workspace disabled manual\"id=download-files><span class=btn-label>Download Files</span></a><div class=\"fade modal\"id=zip-building-progress><div class=modal-dialog><div class=modal-content><div class=modal-body><div class=\"alert alert-warning some-links\">Some of the documents you selected were links, which will not be included in the downloaded ZIP file</div><h2>Building your fileâ€¦</h2><img src=\"./Project - TR0193648697P-1_files/ajax-loader.gif\"alt=spinner></div><div class=modal-footer></div></div></div></div></div><h3 class=\"header col-header\">Files</h3></div><div class=\"clearfix no-gutter row-fluid oe-files-header-row\"><span class=\"span3 col-xs-3 oe-files-header\"id=files-header-source>Sources<div class=column-selection><input type=checkbox class=column-checkbox></div></span><span class=\"span3 col-xs-3 oe-files-header\"id=files-header-primary>Translations<div class=column-selection><input type=checkbox class=column-checkbox></div></span></div><div id=oe-file-rows><div id=oe-file-rows-nonresources><div id=oe-file-rows-project><div class=\"clearfix no-gutter row-fluid oe-file-row\"><div class=\"span3 col-xs-3 file-item-slot item-source\"><div class=oe-file-item><div class=\"normal-state file-icon\"><div class=\"normal-state doc\"aria-label=\"\"></div></div><div class=\"normal-state file-details\"><span class=file-name><a href=https://www.rev.com/f/849181273/5b608e533908a45b80ab6fa718b32fd191373c05d5949b7a1c01aa1eaacbef49 target=_blank title=\"marriage ceritficate.JPG\">marriage ceritficate.JPG</a></span><br><span class=file-additional-details><span title=\"Uploaded on 07-Oct-19 22:33\">230 KB</span></span></div><div class=\"none uploading-state\"><span class=progress-upload><div class=awsupload-progress><div class=awsupload-progress-bar></div><div class=awsupload-progress-text></div></div></span><span class=\"none progress-length\">saving file...</span></div><div class=\"normal-state dropdown file-actions-hidden\"><a href=https://www.rev.com/workspace/project/TR0193648697P-1# class=dropdown-toggle data-html=true data-placement=bottom data-toggle=dropdown></a><ul class=\"dropdown-menu oe-files-actions-list\"role=menu><h5>Work Version</h5><li class=file-variation><a href=https://www.rev.com/f/849181273/5b608e533908a45b80ab6fa718b32fd191373c05d5949b7a1c01aa1eaacbef49 target=_blank title=\"marriage ceritficate.JPG\">marriage ceritficate.JPG</a><br>(Uploaded on 07-Oct-19 22:33, 230 KB</ul></div><div class=\"normal-state file-selection\"><input type=checkbox class=file-checkbox data-document-id=50576851 data-document-revision=0 data-file-id=89908196></div><div class=\"normal-state file-actions\"><a href=https://www.rev.com/workspace/project/TR0193648697P-1# class=file-actions-arrow><b class=caret></b></a></div></div></div><div class=\"span3 col-xs-3 file-item-slot item-primary\"></div><div class=\"span3 col-xs-3 file-item-slot item-review\"></div></div></div></div></div></div><script id=aws-upload-template type=text/x-handlebars-template><div class=\"awsupload file-mgmt-upload normal-state\" id=\"{{uploadId}}\" data-ftkeybase=\"uploads/2019-10-07/36967459-f88c-42f1-89da-b58dd222f1eb/\"\n" +
    "            data-ftprefix=\"input-prefix\" data-ftaws-files-name=\"wtf\">\n" +
    "        <div class=\"awsupload-files clear\"></div>\n" +
    "        <div class=\"awsupload-container\" id=\"{{uploadId}}-container\">\n" +
    "            <span class=\"awsupload-attach\" id=\"{{uploadId}}-attach\">{{uploadLabel}}</span>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"awsupload-template awsupload-file\">\n" +
    "            <div class=\"awsupload-fileinfo\">\n" +
    "                <span class=\"awsupload-filename\"></span>\n" +
    "                <div class=\"awsupload-progress\">\n" +
    "                    <div class=\"awsupload-progress-i\">\n" +
    "                        <div class=\"awsupload-progress-bar\"></div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <span class=\"awsupload-size\"></span>\n" +
    "            </div>\n" +
    "            <a class=\"awsupload-remove\" href=\"#\">remove</a>\n" +
    "        </div>\n" +
    "    </div></script><script id=aws-upload-progress-partial type=text/x-handlebars-template><span class=\"progress-upload\">\n" +
    "        <div class=\"awsupload-progress\">\n" +
    "            <div class=\"awsupload-progress-bar\"></div>\n" +
    "            <div class=\"awsupload-progress-text\"></div>\n" +
    "        </div>\n" +
    "    </span>\n" +
    "    <span class=\"progress-length none\">saving file...</span></script><script id=file-row-template type=text/x-handlebars-template>{{#each items}}\n" +
    "        <div class=\"file-item-slot span3 col-xs-3 item-{{@key}}\"></div>\n" +
    "    {{/each}}</script><script id=file-item-template type=text/x-handlebars-template><div class=\"file-icon normal-state\">\n" +
    "        <div class=\"normal-state {{fileIconClass}}\" aria-label=\"{{fileIconLabel}}\"></div>\n" +
    "    </div>\n" +
    "    <div class=\"file-details normal-state\">\n" +
    "        <span class=\"file-name\">\n" +
    "            {{#ifViewIsPrimaryAgent}}\n" +
    "            {{#if activeDraft}}\n" +
    "                <a href=\"{{transcriptEditorLaunchLink}}\" target=\"_blank\">Open Draft in Editor</a><a href=\"{{transcriptEditorLaunchLink}}\" target=\"_blank\">Open Draft in Editor</a>\n" +
    "            {{else}}\n" +
    "            {{{ sourceDownloadLink canDownload primaryDownloadUrl name type deleted }}}\n" +
    "            {{/if}}\n" +
    "            {{else}}\n" +
    "            {{#ifViewIsSupportAndArgNotNull activeDraft}}\n" +
    "            <a href=\"/workspace/ViewTranscription?draftId={{draft.id}}\" target=\"_blank\">View Current Draft</a>\n" +
    "            {{else}}\n" +
    "            {{{ sourceDownloadLink canDownload primaryDownloadUrl name type deleted }}}\n" +
    "            {{/ifViewIsSupportAndArgNotNull}}\n" +
    "            {{/ifViewIsPrimaryAgent}}\n" +
    "        </span>\n" +
    "        <br />\n" +
    "        <span class=\"file-additional-details\">\n" +
    "            {{additionalDetailsForFileItem this}}\n" +
    "        </span>\n" +
    "        {{#if transcoded}}\n" +
    "            <div class=\"transcoded-preview none\" id=\"player_{{primaryVariationId}}\">\n" +
    "                {{#if isAudio}}\n" +
    "                    <audio preload=\"none\">\n" +
    "                        <source type=\"{{previewPlayerMediaType}}\" src=\"{{primaryDownloadUrl}}\" />\n" +
    "                    </audio>\n" +
    "                {{else}}\n" +
    "                    <video preload=\"none\">\n" +
    "                        <source type=\"video/mp4\" src=\"{{primaryDownloadUrl}}\" />\n" +
    "                    </video>\n" +
    "                {{/if}}\n" +
    "            </div>\n" +
    "        {{/if}}\n" +
    "    </div>\n" +
    "    <div class=\"uploading-state none\">\n" +
    "        {{> _awsUploadProgress}}\n" +
    "    </div>\n" +
    "    <div class=\"file-actions-hidden normal-state dropdown\">\n" +
    "        <a class=\"dropdown-toggle\" data-placement=\"bottom\" data-html=\"true\"\n" +
    "            data-toggle=\"dropdown\" href=\"#\">\n" +
    "        </a>\n" +
    "        <ul class=\"oe-files-actions-list dropdown-menu\" role=\"menu\"></ul>\n" +
    "    </div>\n" +
    "    {{#if canDownload}}\n" +
    "    <div class=\"file-selection normal-state\">\n" +
    "        <input type=\"checkbox\" class=\"file-checkbox\"\n" +
    "               data-document-id=\"{{documentId}}\" data-document-revision=\"{{documentRevision}}\"\n" +
    "               data-file-id=\"{{primaryVariation.id}}\" />\n" +
    "    </div>\n" +
    "    {{/if}}\n" +
    "    <div class=\"file-actions normal-state\">\n" +
    "        <a class=\"file-actions-arrow\" href=\"#\">\n" +
    "            <b class=\"caret\"></b>\n" +
    "        </a>\n" +
    "    </div></script><script id=upload-new-version-partial type=text/x-handlebars-template><li role=\"presentation\" class=\"upload-action\">\n" +
    "        {{showAwsUpload \"upload\" documentId action}}\n" +
    "    </li></script><script id=add-output-doc-partial type=text/x-handlebars-template><li role=\"presentation\" class=\"upload-action\">\n" +
    "        {{showAwsUpload \"add-output-doc\" documentId action}}\n" +
    "    </li></script><script id=launch-text-editor-partial type=text/x-handlebars-template><li role=\"presentation\" data-action=\"{{dataAttrForAction action}}\">\n" +
    "        <a class=\"menuitem\" href=\"#\">\n" +
    "            {{#if draft}}\n" +
    "                Open Draft in Text Editor\n" +
    "            {{else}}\n" +
    "                {{#if hasEditorOutputs}}\n" +
    "                    Edit Document in Text Editor\n" +
    "                {{else}}\n" +
    "                    Launch Text Editor\n" +
    "                {{/if}}\n" +
    "            {{/if}}\n" +
    "        </a>\n" +
    "    </li></script><script id=file-actions-dropdown-template type=text/x-handlebars-template>{{#if allowedActions}}\n" +
    "        <h5>Actions</h5>\n" +
    "        {{#each allowedActions}}\n" +
    "            {{#renderActionItem ../this}}\n" +
    "                <li role=\"presentation\" data-action=\"{{dataAttrForAction this}}\">\n" +
    "                    <a class=\"menuitem\" href=\"#\">{{this}}</a>\n" +
    "                </li>\n" +
    "            {{/renderActionItem}}\n" +
    "        {{/each}}\n" +
    "        <li role=\"presentation\" class=\"divider\"></li>\n" +
    "    {{/if}}\n" +
    "\n" +
    "    {{#if hasMultipleAlternativeVariations}}\n" +
    "        {{!-- No draft, but has multiple variations (media source) --}}\n" +
    "        <h5>Alternative Formats</h5>\n" +
    "        <li class=\"file-variation\">\n" +
    "            {{{ sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted }}}\n" +
    "            <br />\n" +
    "            (<strong>Primary</strong>, {{primaryVariation.versionInfo}}, {{#ifIsSpeakerReconciledFile primaryVariation.flags}}Speakers Reconciled, {{/ifIsSpeakerReconciledFile}}Uploaded on {{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}}, {{formatBytes primaryVariation.size}}{{/if}})\n" +
    "        </li>\n" +
    "        {{#each alternativeVariations}}\n" +
    "            <li class=\"file-variation\">\n" +
    "                {{{ sourceDownloadLink ../this.canDownload this.downloadUrl this.name ../this.type deleted }}}\n" +
    "                <br />\n" +
    "                ({{this.versionInfo}}{{#if this.frameRate}}, {{this.truncatedFrameRate}} fps{{/if}}{{#ifIsSpeakerReconciledFile this.flags}}, Speakers Reconciled{{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}, Auto-Aligned{{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}, BITC{{/ifBurntInTimecodesSynced}}, Uploaded on {{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}}, {{formatBytes this.size}}{{/if}})\n" +
    "            </li>\n" +
    "        {{/each}}\n" +
    "        {{#if showPreviousRevisions}}\n" +
    "            {{#if hasPreviousRevisions}}\n" +
    "                <h5>Previous Versions</h5>\n" +
    "                {{#each previousRevisions}}\n" +
    "                    <li class=\"file-variation\">\n" +
    "                        {{{ sourceDownloadLink this.allowDownloads this.downloadUrl this.name this.type deleted }}}\n" +
    "                        <br />\n" +
    "                        ({{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled, {{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}Auto-Aligned, {{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}BITC, {{/ifBurntInTimecodesSynced}}Uploaded on {{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}}, {{formatBytes this.size}}{{/if}})\n" +
    "                    </li>\n" +
    "                {{/each}}\n" +
    "            {{/if}}\n" +
    "        {{/if}}\n" +
    "    {{else}}\n" +
    "        {{#if showPreviousRevisions}}\n" +
    "            {{!-- Previous and current version are listed under \"Versions\" --}}\n" +
    "            <h5>Versions</h5>\n" +
    "            <li class=\"file-variation\">\n" +
    "                {{{ sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted }}}\n" +
    "                <br />\n" +
    "                ({{#unless activeDraft}}<strong>Latest</strong>, {{/unless}}{{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled, {{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile primaryVariation.flags}}Auto-Aligned, {{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced primaryVariation.flags}}BITC, {{/ifBurntInTimecodesSynced}}Uploaded on {{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}}, {{formatBytes primaryVariation.size}}{{/if}}\n" +
    "            </li>\n" +
    "            {{#each previousRevisions}}\n" +
    "                <li class=\"file-variation\">\n" +
    "                    {{{ sourceDownloadLink this.allowDownloads this.downloadUrl this.name ../this.type this.deleted }}}\n" +
    "                    <br />\n" +
    "                    ({{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled, {{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}Auto-Aligned, {{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}BITC, {{/ifBurntInTimecodesSynced}}Uploaded on {{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}}, {{formatBytes this.size}}{{/if}})\n" +
    "                </li>\n" +
    "            {{/each}}\n" +
    "        {{else}}\n" +
    "            {{!-- One variation of one working version - for source files as-is shown to agents --}}\n" +
    "            <h5>Work Version</h5>\n" +
    "            <li class=\"file-variation\">\n" +
    "                {{{ sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted }}}\n" +
    "                <br />\n" +
    "                (Uploaded on {{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}}, {{formatBytes primaryVariation.size}}{{/if}}\n" +
    "            </li>\n" +
    "        {{/if}}\n" +
    "    {{/if}}</script><script>$(function(){var e={view:4,currentUserIsLastActiveAgent:!1,awsConfig:{maxFileSize:fileManagement.SupportUploadSizeLimit,policyRedirect:\"eyJleHBpcmF0aW9uIjoiMjAxOS0xMC0wOFQyMToxNjoxOFoiLCJjb25kaXRpb25zIjpbeyJhY2wiOiJwcml2YXRlIn0seyJidWNrZXQiOiJ3d3cyLWZveHRyYW5zbGF0ZSJ9LFsic3RhcnRzLXdpdGgiLCIka2V5IiwidXBsb2Fkcy8yMDE5LTEwLTA3LzM2OTY3NDU5LWY4OGMtNDJmMS04OWRhLWI1OGRkMjIyZjFlYi8iXSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwiMSIsIjUzNjg3MzA2MjQiXSxbInN0YXJ0cy13aXRoIiwiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJHN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSJdLFsic3RhcnRzLXdpdGgiLCIkbmFtZSIsIiJdLFsic3RhcnRzLXdpdGgiLCIkRmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdLFsiZXEiLCIkc3VjY2Vzc19hY3Rpb25fcmVkaXJlY3QiLCJodHRwczovL3d3dy5yZXYuY29tL3VwbG9hZC9hd3MtY29tcGxldGUiXV19\",signatureRedirect:\"1uGi9XpDqR/cERnaDa2PpDlKJfA=\",policy201:\"eyJleHBpcmF0aW9uIjoiMjAxOS0xMC0wOFQyMToxNjoxOFoiLCJjb25kaXRpb25zIjpbeyJhY2wiOiJwcml2YXRlIn0seyJidWNrZXQiOiJ3d3cyLWZveHRyYW5zbGF0ZSJ9LFsic3RhcnRzLXdpdGgiLCIka2V5IiwidXBsb2Fkcy8yMDE5LTEwLTA3LzM2OTY3NDU5LWY4OGMtNDJmMS04OWRhLWI1OGRkMjIyZjFlYi8iXSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwiMSIsIjUzNjg3MzA2MjQiXSxbInN0YXJ0cy13aXRoIiwiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJHN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSJdLFsic3RhcnRzLXdpdGgiLCIkbmFtZSIsIiJdLFsic3RhcnRzLXdpdGgiLCIkRmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdXX0=\",signature201:\"sNlXuJd+io5A5LNODS3vVS0lZFQ=\",uploadUrl:\"https://www2-foxtranslate.s3.amazonaws.com/\",bucket:\"www2-foxtranslate\",uploadDir:\"uploads/2019-10-07/36967459-f88c-42f1-89da-b58dd222f1eb/\",accessKeyId:\"AKIAJP7E3BY3JPPBAPMA\",successRedirect:\"https://www.rev.com/upload/aws-complete\"},existingFileRows:[{source:{documentId:50576851,documentRevision:0,derivedFromId:null,derivedFromRevision:null,projectId:14744252,orderId:10557378,type:2,flags:0,outputOfJobType:null,outputOfJobId:null,wordCount:null,audioLength:null,deleted:!1,variations:[{id:89908196,obfuscatedId:849181273,size:235840,name:\"marriage ceritficate.JPG\",uploadedOnString:\"2019-10-07T19:33:15.26\",flags:0,contentType:null,externalUrl:null,storageKey:\"[www2-foxtranslate]docs2/81c97d38-fd92-448e-8b48-65ff8c3acc43/marriage ceritficate.JPG\",storageKeyHash:\"5b608e533908a45b80ab6fa718b32fd191373c05d5949b7a1c01aa1eaacbef49\",frameRate:null}],primaryVariationId:89908196,cpAttributes:{masterCaptionDocId:null},resourceForId:null,resourceForRevision:null},primary:null,review:null,finished:null}],outputDocumentInfo:{},previousRevisionsLookup:{},draft:{id:0,logicalDocumentId:0,logicalDocumentRevision:0,updatedOn:\"0001-01-01T00:00:00\"},order:{type:1,id:10557378,orderNumber:\"TR0193648697\",state:190,documents:[{documentId:50576851,documentRevision:0,derivedFromId:null,derivedFromRevision:null,projectId:14744252,orderId:10557378,type:2,flags:0,outputOfJobType:null,outputOfJobId:null,wordCount:null,audioLength:null,deleted:!1,variations:[{id:89908196,obfuscatedId:849181273,size:235840,name:\"marriage ceritficate.JPG\",uploadedOnString:\"2019-10-07T19:33:15.26\",flags:0,contentType:null,externalUrl:null,storageKey:\"[www2-foxtranslate]docs2/81c97d38-fd92-448e-8b48-65ff8c3acc43/marriage ceritficate.JPG\",storageKeyHash:\"5b608e533908a45b80ab6fa718b32fd191373c05d5949b7a1c01aa1eaacbef49\",frameRate:null}],primaryVariationId:89908196,cpAttributes:{masterCaptionDocId:null},resourceForId:null,resourceForRevision:null}]},allDerivedFromIds:[],sourceDownloadDisabled:\"true\"===\"False\".toLowerCase(),allowAtlasCorrections:\"true\"===\"False\".toLowerCase(),project:{type:1,id:14744252,projectNumber:\"TR0193648697P-1\",state:200,documents:[{documentId:50576851,documentRevision:0,derivedFromId:null,derivedFromRevision:null,projectId:14744252,orderId:10557378,type:2,flags:0,outputOfJobType:null,outputOfJobId:null,wordCount:null,audioLength:null,deleted:!1,variations:[{id:89908196,obfuscatedId:849181273,size:235840,name:\"marriage ceritficate.JPG\",uploadedOnString:\"2019-10-07T19:33:15.26\",flags:0,contentType:null,externalUrl:null,storageKey:\"[www2-foxtranslate]docs2/81c97d38-fd92-448e-8b48-65ff8c3acc43/marriage ceritficate.JPG\",storageKeyHash:\"5b608e533908a45b80ab6fa718b32fd191373c05d5949b7a1c01aa1eaacbef49\",frameRate:null}],primaryVariationId:89908196,cpAttributes:{masterCaptionDocId:null},resourceForId:null,resourceForRevision:null}]},job:null,agentNameForCurrentUser:\"\"};e.isClaimable=\"true\"===\"True\".toLowerCase(),e.qualificationLevel=\"regular\",fileManagement.initializeObjects(e),$('[data-toggle=\"tooltip\"]').tooltip()})</script></div></div></div><div class=row><div class=col-md-12><div class=\"section oe-comments\"><h1 class=header>Comments</h1><div class=row><div class=col-sm-8></div><div class=col-sm-4><h1>History</h1></div></div></div></div></div></div><div class=\"fade modal\"id=flag-tr-problem-modal><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button aria-hidden=true class=close data-dismiss=modal></button><h3>Report Problem</h3></div><div class=modal-body><form action=\"https://www.rev.com/workspace/FlagTranslationProblem?projectNumber=TR0193648697P-1\"id=ft_Control_1 method=post class=oe-problem data-ordertype=Translation><input type=hidden name=__RequestVerificationToken value=4dEyJJ16PW4Mysbgm5OXXrsFCWCw7CB9tdESWP2J3rVrJ3vLGypXwPTVKQGYGv68Srd8hWxLd8DITRN-yy7pOdfkseMZZxIv7-z9_E6HRMrHk-WK0><h1>What is the problem?</h1><ul><li><label class=\"radio report-problem-modal\"><input type=checkbox name=Types value=WrongLanguagePair> Wrong language</label><li><label class=\"radio report-problem-modal\"><input type=checkbox name=Types value=Underpriced> Underpriced project<div class=\"none underpriced-reasons-container\"><ul class=\"underpriced-reasons-list unstyled\"><li><label class=radio><input type=checkbox name=UnderpricedReasons value=HighWordDensity> High word density</label><li><label class=radio><input type=checkbox name=UnderpricedReasons value=TechnicalContent> Technical content</label><li><label class=radio><input type=checkbox name=UnderpricedReasons value=HighFormatting> High formatting</label></ul></div></label><li><label class=\"radio report-problem-modal\"><input type=checkbox name=Types value=Unworkable> Unworkable project</label></ul><a href=https://www.rev.com/workspace/project/TR0193648697P-1# class=\"btn windows ws-submit disabled btn-std\"><span class=btn-label>Report Problem</span></a></form></div><div class=modal-footer></div></div></div></div></div></div><div class=push></div></div><footer><div id=footer-bottom><div class=container><div class=row><div class=\"span3 col-sm-2\">Copyright Rev 2019.</div><div class=\"col-sm-4 span4\"><a href=https://www.rev.com/about/terms rel=nofollow>Terms of Service</a> | <a href=https://www.rev.com/about/privacy rel=nofollow>Privacy Policy</a></div><div class=\"col-sm-6 contact-info span5\">Need help? Email us at: <a href=mailto:support@rev.com>support@rev.com</a></div></div></div></div></footer></div><div class=popup id=type-popup data-position=right style=top:273px;left:614.5px;opacity:0;display:none><ul><li>Use the Rev certified template<li>Final output: Certified PDF</ul></div><script>var popup=new ft_Tooltip(\"type-popup\");popup.hover($(\".oe-order-type-val\"),\"right\")</script><script>$(function(){$(\".file-info\").popover();new ft_Modal(\"zip-building-progress\",{show:!1})})</script><script>$(function(){new ft_AgentProjectDetails(902522078,\"TR0193648697P-1\");ft_RecentlyViewed.registerView(\"TR0193648697P-1\",\"project\")})</script><script>window.TcRookieProgressInit&&window.TcRookieProgressInit(14,!1)</script><script>$(function(){$(\".btn, .os-specific\").addClass(window.RevBowser.getOsCssClass()),$(\".faq-tooltip-link\").popover({html:!0,trigger:\"click\",content:function(){return $(\"#\"+$(this).data(\"q\")).find(\".answer\").html()}}),$(\".faq-tooltip-link-hover\").popover({html:!0,trigger:\"manual\",animation:!1,content:function(){return $(\"#\"+$(this).data(\"q\")).find(\".answer\").html()}}).on(\"mouseenter\",function(){var o=this;$(this).popover(\"show\"),$(this).siblings(\".popover\").on(\"mouseleave\",function(){$(o).popover(\"hide\")})}).on(\"mouseleave\",function(){var o=this;setTimeout(function(){$(\".popover:hover\").length||$(o).popover(\"hide\")},100)}),$(\"FORM\").each(function(){var o=ft_Control.get(this);o||(o=new ft_Form(this))}),$(\".infotip, .popover-tip\").each(function(){$(this).popover()})})</script><script>rev_Mixpanel=new ft_Mixpanel(\"d24fd33359700c4000bbd1c190f60e32\",\"mirlanochka@gmail.com\",\"rev\",!1)</script><script>$(function(){rev_Mixpanel.trackLinks(\"mixpanel-link\")})</script><script>var MTIProjectId=\"232a0719-41f6-4af7-91a7-3726538d2e6a\";!function(){var t=document.createElement(\"script\");t.type=\"text/javascript\",t.async=\"true\",t.src=(\"https:\"==document.location.protocol?\"https:\":\"http:\")+\"//fast.fonts.net/t/trackingCode.js\",(document.getElementsByTagName(\"head\")[0]||document.getElementsByTagName(\"body\")[0]).appendChild(t)}()</script><div id=cboxOverlay style=display:none></div><div id=colorbox role=dialog tabindex=-1 style=display:none><div id=cboxWrapper><div><div id=cboxTopLeft style=float:left></div><div id=cboxTopCenter style=float:left></div><div id=cboxTopRight style=float:left></div></div><div style=clear:left><div id=cboxMiddleLeft style=float:left></div><div id=cboxContent style=float:left><div id=cboxTitle style=float:left></div><div id=cboxCurrent style=float:left></div><button id=cboxPrevious type=button></button><button id=cboxNext type=button></button><button id=cboxSlideshow></button><div id=cboxLoadingOverlay style=float:left></div><div id=cboxLoadingGraphic style=float:left></div></div><div id=cboxMiddleRight style=float:left></div></div><div style=clear:left><div id=cboxBottomLeft style=float:left></div><div id=cboxBottomCenter style=float:left></div><div id=cboxBottomRight style=float:left></div></div></div><div style=position:absolute;width:9999px;visibility:hidden;display:none;max-width:none></div></div><div class=igtranslator-main-div style=display:none;width:0;height:0><iframe src=\"./Project - TR0193648697P-1_files/saved_resource.html\"frameborder=0 class=igtranslator-iframe scrolling=no></iframe></div><div class=\"bounceIn igtranslator-activator-icon\"style=background-image:url(chrome-extension://dledpjadmedkjcdgghijfieiogokjika/data/icons/home.png);display:none title=\"Click to Show Translation\"></div><div class=\"directly-rtm is-hidden is-minimized\"><iframe src=\"./Project - TR0193648697P-1_files/chat.html\"height=0 width=0 frameborder=0></iframe></div>";


detailsPageSource2 = "<!DOCTYPE html><html lang=\"en-us\"><head xmlns:og=\"http://ogp.me/ns#\" xmlns:fb=\"http://www.facebook.com/2008/fbml\"> <title>Project - TR0113602607P-1</title> <meta property=\"og:title\" content=\"Project - TR0113602607P-1\"/><meta property=\"og:type\" content=\"website\"/><meta property=\"og:site_name\" content=\"Rev\"/><meta property=\"og:description\" content=\"Online audio transcription, video captions, and document translation services. Serving more than 100k customers worldwide.\"/><meta property=\"og:image\" content=\"https://www.rev.com/content/curve/img/home/rev_twittercard.jpg\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:url\" content=\"https://www.rev.com/workspace/project/TR0113602607P-1\"/><meta property=\"fb:app_id\" content=\"199170300134516\"/><meta property=\"twitter:card\" content=\"summary_large_image\"/><meta property=\"twitter:site\" content=\"@rev\"/> <link rel=\"canonical\" href=\"https://www.rev.com/workspace/project/TR0113602607P-1\"/> <meta name=\"fox:build\" content=\"1329-0\"/> <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/content/img/rev/favicon.ico\"/> <meta name=\"robots\" content=\"noindex\"/> <script>window['_fs_debug']=false; window['_fs_host']='fullstory.com'; window['_fs_org']='10Qs'; window['_fs_namespace']='FS'; (function(m,n,e,t,l,o,g,y){if (e in m){if(m.console && m.console.log){m.console.log('FullStory namespace conflict. Please set window[\"_fs_namespace\"].');}return;}g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[]; o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js'; y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y); g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)}; g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)}; g.clearUserCookie=function(c,d,i){if(!c || document.cookie.match('fs_uid=[`;`]*`[`;`]*`[`;`]*`')){d=n.domain;while(1){n.cookie='fs_uid=;domain='+d+ ';path=/;expires='+new Date(0).toUTCString();i=d.indexOf('.');if(i<0)break;d=d.slice(i+1)}}};})(window,document,window['_fs_namespace'],'script','user'); </script> <script>window.addEventListener('load', function(){if (window.FS){window.FS.identify('14',{'displayName': 'Svetlana', 'email': 'mirlanochka@gmail.com'});}}); </script><!--[if lt IE 9]> <script src=\"//html5shim.googlecode.com/svn/trunk/html5.js\"></script><![endif]--> <script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"></script> <script type=\"text/javascript\">window.jQuery || document.write('<script src=\"/build/Vendor/jquery-1.11.1.min.js\"></script>') </script> <script src=\"//code.jquery.com/jquery-migrate-1.2.1.min.js\"></script> <script type=\"text/javascript\">(function (){var now=new Date(); var offset=0 - now.getTimezoneOffset(); var expire=new Date(); expire.setFullYear(now.getFullYear() + 5); document.cookie='ft_tz=' + escape(offset) + ';expires=' + expire.toGMTString() + ';path=/'})(); </script> <link href=\"/Content/css2/v2/bootstrap3.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <script src=\"/build/Vendor/bootstrap3/bootstrap.js?v=680CCB79C8E1423C2548DD5B5DE47C85\" type=\"text/javascript\"></script> <script>(function(){var d=document; var c=d.createElement('script'); if (!('noModule' in c) && 'onbeforeload' in c){var s=false; d.addEventListener('beforeload', function(e){if (e.target===c){s=true;}else if (!e.target.hasAttribute('nomodule') || !s){return;}e.preventDefault();}, true); c.type='module'; c.src='.'; d.head.appendChild(c); c.remove();}}());</script> <script nomodule src=\"/build/polyfills.bundle.js?v=DE6F5F815421C05657A8884DCF43E92A\" type=\"text/javascript\"></script> <script src=\"/bundles/common.js?v=GlkYKQVq_A5l9-o1lCAtkrF17SHkXF6DFtdkgCp8PUE1\"></script> <script src=\"/build/common.bundle.js?v=6B58EAE78E7E287B6EF9579B8F95CC8E\" type=\"text/javascript\"></script> <link href=\"/Content/css2/v2/app.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <script type=\"text/javascript\">!function(a,b,c,d,e,f,g,h){a.RaygunObject=e,a[e]=a[e]||function(){(a[e].o=a[e].o||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0], f.async=1,f.src=d,g.parentNode.insertBefore(f,g),h=a.onerror,a.onerror=function(b,c,d,f,g){h&&h(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],a[e].q.push({e:g})}}(window,document,\"script\",\"//cdn.raygun.io/raygun4js/raygun.min.js\",\"rg4js\"); rg4js('options',{debugMode: true, ignoreAjaxAbort: true, ignoreAjaxError: true, ignore3rdPartyErrors: true}); rg4js('apiKey', 'eIWQURn3Q+LVjvLWfppMgA=='); rg4js('enableCrashReporting', true); rg4js('withTags', [\"Marketplace\",\"Workspace\"]); rg4js('setUser',{identifier: '14', fullName: 'Svetlana Lisovska', isAnonymous: false}); window.rg4js=rg4js; </script> <link href=\"/Content/css2/v2/workspace/workspace.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <script src=\"/bundles/react.js?v=PyzPyu6WyOuHae1m9aIQpgfgrDXQaaaTf9FWsEna35g1\"></script> <script src=\"/bundles/workspace.js?v=AWWtQvwDGUGfQTFaj5OMSCsoKklD6GsDcNBT4tH8hS81\"></script> <script src=\"/build/find-work.bundle.js?v=8868C08969734ED46BD5860747FD887D\" type=\"text/javascript\"></script> <script src=\"/build/workspace.bundle.js?v=7E8B8F95980B73986864400ECC178D2C\" type=\"text/javascript\"></script> <link href=\"/Content/css2/v2/workspace/project.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <link href=\"/Content/css2/workspace/rate.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <link href=\"/Content/css2/vendor/rateit.less?v=1329-0\" type=\"text/css\" rel=\"stylesheet\"/> <link href=\"//netdna.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.css\" rel=\"stylesheet\"/> <script src=\"/bundles/fileManagement.js?v=7DcZucS_isMFGNB80_rR-BGMUldmA-GIPiaL3As7X341\"></script> <script type=\"text/javascript\">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-18309154-6', 'auto'); ga('require', 'ecommerce', 'ecommerce.js'); ga('set', '&uid', '14'); if (typeof ga=='undefined') var ga=function(){}; ga('set', 'dimension1', 'Agent'); ga('send', 'pageview'); </script> <script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-1007079899\"></script> <script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'AW-1007079899'); </script></head><body class=\"app\"> <noscript> <iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-BHMQ\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe> </noscript> <script>(function(w, d, s, l, i){w[l]=w[l] || []; w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'}); var f=d.getElementsByTagName(s)[0], j=d.createElement(s), dl=l !='dataLayer' ? '&l=' + l : ''; j.async=true; j.src='//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer', 'GTM-BHMQ'); </script> <script>window.addEventListener('load', function(){if (window.intercomSettings){window.intercomSettings.email='mirlanochka@gmail.com';}}); </script> <script>(function(d, i, r, e, c, t, l, y){i[r]=i[r] || function(){(i[r].cq=i[r].cq || []).push(arguments)}; l=d.createElement(c); l.id=\"directlyRTMScript\"; l.src=e; l.async=1; y=d.getElementsByTagName(c)[0]; y.parentNode.insertBefore(l, y);})(document, window, \"DirectlyRTM\", \"https://www.directly.com/widgets/rtm/embed.js\", \"script\", \"DOMContentLoaded\"); DirectlyRTM(\"config\",{id: '8a12a3ca55d936230155df9a2fe644a4', displayAskQuestion: false, questionCategory: 'rtm', customTags: [\"directly_rtm\"], metadata:{referrer: document.location.href,userAgent: navigator.userAgent}}); </script> <noscript> <iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-BHMQ\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe> </noscript> <script>(function(w, d, s, l, i){w[l]=w[l] || []; w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'}); var f=d.getElementsByTagName(s)[0], j=d.createElement(s), dl=l !='dataLayer' ? '&l=' + l : ''; j.async=true; j.src='//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer', 'GTM-BHMQ'); </script> <script>window.addEventListener('load', function(){if (window.intercomSettings){window.intercomSettings.email='mirlanochka@gmail.com';}}); </script> <script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n; n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0; t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '658102074251173',{em: 'mirlanochka@gmail.com',}); fbq('track', 'PageView'); </script> <noscript> <img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=658102074251173&amp;ev=PageView&amp;noscript=1\"/> </noscript> <div id=\"above-the-fold-bg\" class=\"absolute w-100 cover\"></div><div id=\"page\"> <div id=\"main\"> <nav class=\"navbar navbar-static-top\"> <div class=\"container\"> <div class=\"navbar-header pull-left\"> <a class=\"navbar-brand\" href=\"/workspace\"><span class=\"rev-logo\"></span></a> </div><ul class=\"nav\"> <li class=\"dropdown nav-item\" id=\"menu-findwork\"> <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"> Find Work <span class=\"caret\"></span> </a> <ul class=\"dropdown-menu pull-left\"> <li> <a class=\"menu-item\" id=\"findwork-translation\" href=\"/workspace/findwork/Translation\"> Translation </a> </li></ul> </li><li class=\"dropdown nav-item\" id=\"menu-mywork\"> <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"> My Work <span class=\"caret\"></span> </a> <ul class=\"dropdown-menu pull-left\"> <li> <a class=\"menu-item\" href=\"/workspace/mywork\"> My Projects </a> </li><li> <a class=\"menu-item\" href=\"/workspace/earnings\"> Earnings </a> </li><li> <a class=\"menu-item\" href=\"/workspace/EditRequests\"> Edit Requests </a> </li></ul> </li><li class=\"dropdown nav-item\" id=\"menu-help\"> <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"> Help <span class=\"caret\"></span> </a> <ul class=\"dropdown-menu pull-left\"> <li> <a class=\"menu-item\" id=\"nav-item-askourexperts\" onclick=\"DirectlyRTM(&#39;openAskForm&#39;)\"> Ask our Experts </a> </li><li> <a class=\"menu-item\" id=\"nav-item-helpcenter\" href=\"https://rev.zendesk.com/access/login?force_unaltered_return_to=true&amp;return_to=http%3A%2F%2Frev.zendesk.com%2Fhc%2Fen-us\" target=\"_blank\"> Help Center </a> </li></ul> </li><li class=\"nav-item\"> <a href=\"https://forum.rev.com\" id=\"nav-item-forum\" target=\"_blank\" :> Forum </a> </li></ul> <div class=\"pull-right\"> <ul class=\"nav nav-user\"> <li class=\"dropdown nav-item\" id=\"menu-account\"> <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"> Hello, <b>Svetlana</b> <span class=\"caret\"></span> </a> <ul class=\"dropdown-menu pull-right\"> <li> <a class=\"menu-item\" href=\"/account/settings\"> Settings </a> </li><li> <a class=\"menu-item\" href=\"/account/auth/logout\"> Sign Off </a> </li></ul> </li></ul> </div></div></nav><div class=\"nav-breadcrumb\"> <div class=\"container\"> <ul class=\"breadcrumb\"> <li><a href=/workspace/findwork><span class='home-icon'></span></a></li><li>MY WORK</li><li><a href=/workspace/mywork>PROJECTS</a></li><li class=\"active\">TR0113602607P-1</li></ul> </div></div><div class=\"app\"> <div class=\"container\"> <div class=\"new-workspace\"> <div class=\"row\"> <div class=\"col-sm-12\"> <div class=\"oe-state-header oe-claim\"><form action=\"/workspace/ClaimTranslation?projectNumber=TR0113602607P-1\" id=\"claim-form\" method=\"post\"><input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"PB0LyJYcdGRob_dgsPe4txmuUQ46rO95R-QeGoI9IiNZprgkCzt4DAJ2DqZCXMw-wlU030_r4NF-d0JWVYuwL_uE0fyMYtQSd98tC-c6SSboRRco0\"/> <input type=\"hidden\" id=\"ClaimedPriceMultiplier\" name=\"PriceMultiplierToClaimWith\" value=\"1.00000\"/> <div class=\"btn-group left-btns\"><a class=\"btn btn-secondary-action \" href=\"#\" id=\"flag-problem-btn\"><span class=\"btn-label\">Report Problem</span></a> </div><span class=\"oe-state-msg\">If claimed, due in 4 hours, 30 minutes </span> <div class=\"btn-group right-btns\"><a class=\"btn btn-secondary-action ws-submit btn-wide\" href=\"#\" id=\"claim-btn\"><span class=\"btn-label\">Claim</span></a> </div></form> </div></div></div><div class=\"row\"> <div class=\"col-sm-6\"> <div class=\"section col-equal-height\"> <h1 class=\"header\">Customer Information</h1> <table class=\"oe-summary\"> <tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Customer</td><td class=\"oe-summary-detail\"> Abbosbek Vakhapov </td></tr><tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Customer Comment</td><td class=\"oe-summary-detail oe-highlighted-info\">Name/Place spellings:Vakhapov Abbosbek PatidinovichMasaburova Saidakhon OmonilloevnaVakhapova Iasina Abbosbekovna</td></tr></table> </div></div><div class=\"col-sm-6\"> <div class=\"section col-equal-height\"> <h1 class=\"header\">Project Details</h1> <table class=\"oe-summary\"> <tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Output</td><td class=\"oe-summary-detail\"> <span class=\"oe-order-type-val\"> Certified PDF </span> </td></tr><tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Language Pair</td><td class=\"oe-summary-detail\">ru2en</td></tr><tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Document Length</td><td class=\"oe-summary-detail\">2 page(s)</td></tr><tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Status</td><td class=\"oe-summary-detail\">Translation not yet claimed </td></tr><tr class=\"oe-summary-row\"> <td class=\"oe-summary-label\">Translation</td><td class=\"oe-summary-detail\">$27.23 </td></tr></table> </div></div></div><div class=\"row\"> <div class=\"col-md-12\"> <div class=\"section\"><div class=\"oe-files col\" id=\"oe-files\"> <div class=\"clearfix\"> <div class=\"pull-right\"> <a class=\"btn ws-submit manual btn-new-workspace btn-secondary-action\" href=\"https://www.rev.com/document/ordsz/113602607.zip\" id=\"download-files\"><span class=\"btn-label\">Download Files</span></a><div class=\"modal fade \" id=\"zip-building-progress\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-body\"> <div class=\"alert alert-warning some-links\"> Some of the documents you selected were links, which will not be included in the downloaded ZIP file </div><h2>Building your file&hellip;</h2> <img src=\"/content/img/ajax-loader.gif\" alt=\"spinner\"/></div><div class=\"modal-footer\"></div></div></div></div></div><h3 class=\"col-header header\">Files</h3> </div><div class=\"oe-files-header-row no-gutter row-fluid clearfix\"> <span class=\"oe-files-header span3 col-xs-3\" id=\"files-header-source\"> Sources <div class=\"column-selection\"> <input type=\"checkbox\" class=\"column-checkbox\"/> </div></span> <span class=\"oe-files-header span3 col-xs-3\" id=\"files-header-primary\"> Translations <div class=\"column-selection\"> <input type=\"checkbox\" class=\"column-checkbox\"/> </div></span> </div><div id=\"oe-file-rows\"> <div id=\"oe-file-rows-nonresources\"> <div id=\"oe-file-rows-project\"></div></div></div></div><script type=\"text/x-handlebars-template\" id=\"aws-upload-template\"> <div class=\"awsupload file-mgmt-upload normal-state\" id=\"{{uploadId}}\" data-ftkeybase=\"uploads/2019-10-17/a8c263e0-7078-4b9f-9ad6-bbf892dd5735/\" data-ftprefix=\"input-prefix\" data-ftaws-files-name=\"wtf\"> <div class=\"awsupload-files clear\"></div><div class=\"awsupload-container\" id=\"{{uploadId}}-container\"> <span class=\"awsupload-attach\" id=\"{{uploadId}}-attach\">{{uploadLabel}}</span> </div><div class=\"awsupload-template awsupload-file\"> <div class=\"awsupload-fileinfo\"> <span class=\"awsupload-filename\"></span> <div class=\"awsupload-progress\"> <div class=\"awsupload-progress-i\"> <div class=\"awsupload-progress-bar\"></div></div></div><span class=\"awsupload-size\"></span> </div><a class=\"awsupload-remove\" href=\"#\">remove</a> </div></div></script><script type=\"text/x-handlebars-template\" id=\"aws-upload-progress-partial\"> <span class=\"progress-upload\"> <div class=\"awsupload-progress\"> <div class=\"awsupload-progress-bar\"></div><div class=\"awsupload-progress-text\"></div></div></span> <span class=\"progress-length none\">saving file...</span></script><script type=\"text/x-handlebars-template\" id=\"file-row-template\">{{#each items}}<div class=\"file-item-slot span3 col-xs-3 item-{{@key}}\"></div>{{/each}}</script><script type=\"text/x-handlebars-template\" id=\"file-item-template\"> <div class=\"file-icon normal-state\"> <div class=\"normal-state{{fileIconClass}}\" aria-label=\"{{fileIconLabel}}\"></div></div><div class=\"file-details normal-state\"> <span class=\"file-name\">{{#ifViewIsPrimaryAgent}}{{#if activeDraft}}<a href=\"{{transcriptEditorLaunchLink}}\" target=\"_blank\">Open Draft in Editor</a><a href=\"{{transcriptEditorLaunchLink}}\" target=\"_blank\">Open Draft in Editor</a>{{else}}{{{sourceDownloadLink canDownload primaryDownloadUrl name type deleted}}}{{/if}}{{else}}{{#ifViewIsSupportAndArgNotNull activeDraft}}<a href=\"/workspace/ViewTranscription?draftId={{draft.id}}\" target=\"_blank\">View Current Draft</a>{{else}}{{{sourceDownloadLink canDownload primaryDownloadUrl name type deleted}}}{{/ifViewIsSupportAndArgNotNull}}{{/ifViewIsPrimaryAgent}}</span> <br/> <span class=\"file-additional-details\">{{additionalDetailsForFileItem this}}</span>{{#if transcoded}}<div class=\"transcoded-preview none\" id=\"player_{{primaryVariationId}}\">{{#if isAudio}}<audio preload=\"none\"> <source type=\"{{previewPlayerMediaType}}\" src=\"{{primaryDownloadUrl}}\"/> </audio>{{else}}<video preload=\"none\"> <source type=\"video/mp4\" src=\"{{primaryDownloadUrl}}\"/> </video>{{/if}}</div>{{/if}}</div><div class=\"uploading-state none\">{{> _awsUploadProgress}}</div><div class=\"file-actions-hidden normal-state dropdown\"> <a class=\"dropdown-toggle\" data-placement=\"bottom\" data-html=\"true\" data-toggle=\"dropdown\" href=\"#\"> </a> <ul class=\"oe-files-actions-list dropdown-menu\" role=\"menu\"></ul> </div>{{#if canDownload}}<div class=\"file-selection normal-state\"> <input type=\"checkbox\" class=\"file-checkbox\" data-document-id=\"{{documentId}}\" data-document-revision=\"{{documentRevision}}\" data-file-id=\"{{primaryVariation.id}}\"/> </div>{{/if}}<div class=\"file-actions normal-state\"> <a class=\"file-actions-arrow\" href=\"#\"> <b class=\"caret\"></b> </a> </div></script><script type=\"text/x-handlebars-template\" id=\"upload-new-version-partial\"> <li role=\"presentation\" class=\"upload-action\">{{showAwsUpload \"upload\" documentId action}}</li></script><script type=\"text/x-handlebars-template\" id=\"add-output-doc-partial\"> <li role=\"presentation\" class=\"upload-action\">{{showAwsUpload \"add-output-doc\" documentId action}}</li></script><script type=\"text/x-handlebars-template\" id=\"launch-text-editor-partial\"> <li role=\"presentation\" data-action=\"{{dataAttrForAction action}}\"> <a class=\"menuitem\" href=\"#\">{{#if draft}}Open Draft in Text Editor{{else}}{{#if hasEditorOutputs}}Edit Document in Text Editor{{else}}Launch Text Editor{{/if}}{{/if}}</a> </li></script><script type=\"text/x-handlebars-template\" id=\"file-actions-dropdown-template\">{{#if allowedActions}}<h5>Actions</h5>{{#each allowedActions}}{{#renderActionItem ../this}}<li role=\"presentation\" data-action=\"{{dataAttrForAction this}}\"> <a class=\"menuitem\" href=\"#\">{{this}}</a> </li>{{/renderActionItem}}{{/each}}<li role=\"presentation\" class=\"divider\"></li>{{/if}}{{#if hasMultipleAlternativeVariations}}{{!-- No draft, but has multiple variations (media source) --}}<h5>Alternative Formats</h5> <li class=\"file-variation\">{{{sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted}}}<br/> (<strong>Primary</strong>,{{primaryVariation.versionInfo}},{{#ifIsSpeakerReconciledFile primaryVariation.flags}}Speakers Reconciled,{{/ifIsSpeakerReconciledFile}}Uploaded on{{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}},{{formatBytes primaryVariation.size}}{{/if}}) </li>{{#each alternativeVariations}}<li class=\"file-variation\">{{{sourceDownloadLink ../this.canDownload this.downloadUrl this.name ../this.type deleted}}}<br/> ({{this.versionInfo}}{{#if this.frameRate}},{{this.truncatedFrameRate}}fps{{/if}}{{#ifIsSpeakerReconciledFile this.flags}}, Speakers Reconciled{{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}, Auto-Aligned{{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}, BITC{{/ifBurntInTimecodesSynced}}, Uploaded on{{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}},{{formatBytes this.size}}{{/if}}) </li>{{/each}}{{#if showPreviousRevisions}}{{#if hasPreviousRevisions}}<h5>Previous Versions</h5>{{#each previousRevisions}}<li class=\"file-variation\">{{{sourceDownloadLink this.allowDownloads this.downloadUrl this.name this.type deleted}}}<br/> ({{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled,{{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}Auto-Aligned,{{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}BITC,{{/ifBurntInTimecodesSynced}}Uploaded on{{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}},{{formatBytes this.size}}{{/if}}) </li>{{/each}}{{/if}}{{/if}}{{else}}{{#if showPreviousRevisions}}{{!-- Previous and current version are listed under \"Versions\" --}}<h5>Versions</h5> <li class=\"file-variation\">{{{sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted}}}<br/> ({{#unless activeDraft}}<strong>Latest</strong>,{{/unless}}{{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled,{{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile primaryVariation.flags}}Auto-Aligned,{{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced primaryVariation.flags}}BITC,{{/ifBurntInTimecodesSynced}}Uploaded on{{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}},{{formatBytes primaryVariation.size}}{{/if}}</li>{{#each previousRevisions}}<li class=\"file-variation\">{{{sourceDownloadLink this.allowDownloads this.downloadUrl this.name ../this.type this.deleted}}}<br/> ({{#ifIsSpeakerReconciledFile this.flags}}Speakers Reconciled,{{/ifIsSpeakerReconciledFile}}{{#ifIsAlignmentFile this.flags}}Auto-Aligned,{{/ifIsAlignmentFile}}{{#ifBurntInTimecodesSynced this.flags}}BITC,{{/ifBurntInTimecodesSynced}}Uploaded on{{formatDate this.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if this.size}},{{formatBytes this.size}}{{/if}}) </li>{{/each}}{{else}}{{!-- One variation of one working version - for source files as-is shown to agents --}}<h5>Work Version</h5> <li class=\"file-variation\">{{{sourceDownloadLink canDownload primaryVariation.downloadUrl primaryVariation.name type deleted}}}<br/> (Uploaded on{{formatDate primaryVariation.uploadedOn \"dd-NNN-yy HH:mm\"}}{{#if primaryVariation.size}},{{formatBytes primaryVariation.size}}{{/if}}</li>{{/if}}{{/if}}</script><script type=\"text/javascript\">$(function (){var awsConfig={maxFileSize: fileManagement.SupportUploadSizeLimit, policyRedirect: 'eyJleHBpcmF0aW9uIjoiMjAxOS0xMC0xOFQwNjoyNzoyNVoiLCJjb25kaXRpb25zIjpbeyJhY2wiOiJwcml2YXRlIn0seyJidWNrZXQiOiJ3d3cyLWZveHRyYW5zbGF0ZSJ9LFsic3RhcnRzLXdpdGgiLCIka2V5IiwidXBsb2Fkcy8yMDE5LTEwLTE3L2E4YzI2M2UwLTcwNzgtNGI5Zi05YWQ2LWJiZjg5MmRkNTczNS8iXSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwiMSIsIjUzNjg3MzA2MjQiXSxbInN0YXJ0cy13aXRoIiwiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJHN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSJdLFsic3RhcnRzLXdpdGgiLCIkbmFtZSIsIiJdLFsic3RhcnRzLXdpdGgiLCIkRmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdLFsiZXEiLCIkc3VjY2Vzc19hY3Rpb25fcmVkaXJlY3QiLCJodHRwczovL3d3dy5yZXYuY29tL3VwbG9hZC9hd3MtY29tcGxldGUiXV19', signatureRedirect: 'm7aFGv9wjfKSslaCAli91/lGB30=', policy201: 'eyJleHBpcmF0aW9uIjoiMjAxOS0xMC0xOFQwNjoyNzoyNVoiLCJjb25kaXRpb25zIjpbeyJhY2wiOiJwcml2YXRlIn0seyJidWNrZXQiOiJ3d3cyLWZveHRyYW5zbGF0ZSJ9LFsic3RhcnRzLXdpdGgiLCIka2V5IiwidXBsb2Fkcy8yMDE5LTEwLTE3L2E4YzI2M2UwLTcwNzgtNGI5Zi05YWQ2LWJiZjg5MmRkNTczNS8iXSxbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwiMSIsIjUzNjg3MzA2MjQiXSxbInN0YXJ0cy13aXRoIiwiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJHN1Y2Nlc3NfYWN0aW9uX3N0YXR1cyIsIjIwMSJdLFsic3RhcnRzLXdpdGgiLCIkbmFtZSIsIiJdLFsic3RhcnRzLXdpdGgiLCIkRmlsZW5hbWUiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdXX0=', signature201: 'Lbt3w/PMiLjOfTSHsFLab69SaNE=', uploadUrl: 'https://www2-foxtranslate.s3.amazonaws.com/', bucket: 'www2-foxtranslate', uploadDir: 'uploads/2019-10-17/a8c263e0-7078-4b9f-9ad6-bbf892dd5735/', accessKeyId: 'AKIAJP7E3BY3JPPBAPMA', successRedirect: 'https://www.rev.com/upload/aws-complete'}; var fileManagementParams={view: 4, currentUserIsLastActiveAgent: false, awsConfig: awsConfig, existingFileRows: [{\"source\":{\"documentId\":51374095,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495701,\"obfuscatedId\":227788329,\"size\":1800668,\"name\":\"Scan40002.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/ef2f056a-a5c9-4f8b-aa68-eb1f6a648532/Scan40002.pdf\",\"storageKeyHash\":\"0f710f3ed11b5f8bce523fe9a7a5b0ef857316a1c5aeca553dbd0f6df5401241\",\"frameRate\":null}],\"primaryVariationId\":91495701,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null},\"primary\":null,\"review\":null,\"finished\":null},{\"source\":{\"documentId\":51374096,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495702,\"obfuscatedId\":504829895,\"size\":1782989,\"name\":\"Scan40001.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/d2a656d8-dba3-47c2-ad24-96649fce4f93/Scan40001.pdf\",\"storageKeyHash\":\"5c5d8aa860c8e7e4567b64bc8f34769d74ef14c6978fc2c7df107fa5fd445acf\",\"frameRate\":null}],\"primaryVariationId\":91495702,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null},\"primary\":null,\"review\":null,\"finished\":null}], outputDocumentInfo:{}, previousRevisionsLookup:{}, draft:{\"id\":0,\"logicalDocumentId\":0,\"logicalDocumentRevision\":0,\"updatedOn\":\"0001-01-01T00:00:00\"}, order:{\"type\":1,\"id\":10770719,\"orderNumber\":\"TR0113602607\",\"state\":190,\"documents\":[{\"documentId\":51374095,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495701,\"obfuscatedId\":227788329,\"size\":1800668,\"name\":\"Scan40002.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/ef2f056a-a5c9-4f8b-aa68-eb1f6a648532/Scan40002.pdf\",\"storageKeyHash\":\"0f710f3ed11b5f8bce523fe9a7a5b0ef857316a1c5aeca553dbd0f6df5401241\",\"frameRate\":null}],\"primaryVariationId\":91495701,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null},{\"documentId\":51374096,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495702,\"obfuscatedId\":504829895,\"size\":1782989,\"name\":\"Scan40001.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/d2a656d8-dba3-47c2-ad24-96649fce4f93/Scan40001.pdf\",\"storageKeyHash\":\"5c5d8aa860c8e7e4567b64bc8f34769d74ef14c6978fc2c7df107fa5fd445acf\",\"frameRate\":null}],\"primaryVariationId\":91495702,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null}]}, allDerivedFromIds: [], sourceDownloadDisabled: 'False'.toLowerCase()==='true', allowAtlasCorrections: 'False'.toLowerCase()==='true'}; fileManagementParams.project={\"type\":1,\"id\":14962486,\"projectNumber\":\"TR0113602607P-1\",\"state\":200,\"documents\":[{\"documentId\":51374095,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495701,\"obfuscatedId\":227788329,\"size\":1800668,\"name\":\"Scan40002.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/ef2f056a-a5c9-4f8b-aa68-eb1f6a648532/Scan40002.pdf\",\"storageKeyHash\":\"0f710f3ed11b5f8bce523fe9a7a5b0ef857316a1c5aeca553dbd0f6df5401241\",\"frameRate\":null}],\"primaryVariationId\":91495701,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null},{\"documentId\":51374096,\"documentRevision\":0,\"derivedFromId\":null,\"derivedFromRevision\":null,\"projectId\":14962486,\"orderId\":10770719,\"type\":2,\"flags\":0,\"outputOfJobType\":null,\"outputOfJobId\":null,\"wordCount\":null,\"audioLength\":null,\"deleted\":false,\"variations\":[{\"id\":91495702,\"obfuscatedId\":504829895,\"size\":1782989,\"name\":\"Scan40001.pdf\",\"uploadedOnString\":\"2019-10-17T02:57:25.98\",\"flags\":0,\"contentType\":null,\"externalUrl\":null,\"storageKey\":\"[www2-foxtranslate]docs2/d2a656d8-dba3-47c2-ad24-96649fce4f93/Scan40001.pdf\",\"storageKeyHash\":\"5c5d8aa860c8e7e4567b64bc8f34769d74ef14c6978fc2c7df107fa5fd445acf\",\"frameRate\":null}],\"primaryVariationId\":91495702,\"cpAttributes\":{\"masterCaptionDocId\":null},\"resourceForId\":null,\"resourceForRevision\":null}]}; fileManagementParams.job=null; fileManagementParams.agentNameForCurrentUser=\"\"; fileManagementParams.isClaimable='True'.toLowerCase()==='true'; fileManagementParams.qualificationLevel='regular'; fileManagement.initializeObjects(fileManagementParams); $('[data-toggle=\"tooltip\"]').tooltip();});</script> </div></div></div><div class=\"row\"> <div class=\"col-md-12\"> <div class=\"oe-comments section\"> <h1 class=\"header\">Comments</h1> <div class=\"row\"> <div class=\"col-sm-8\"> </div><div class=\"col-sm-4\"> <h1>History</h1> </div></div></div></div></div></div><div class=\"modal fade \" id=\"flag-tr-problem-modal\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"></button><h3>Report Problem</h3></div><div class=\"modal-body\"> <form class=\"oe-problem\" method=\"post\" data-ordertype=\"Translation\" action=\"/workspace/FlagTranslationProblem?projectNumber=TR0113602607P-1\"> <input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"9k9cK-ohdlbK9EBEQ2Db--hZXGP_2ZFOddJxVh77n6c1VS9ofNrd6oEt7R6yLT9dS2GIafz0fzsUO2yJaaWEAWpuTy9_FA6_GgGSkq0S0parjaPD0\"/> <h1>What is the problem?</h1> <ul> <li> <label class=\"radio report-problem-modal\"> <input type=\"checkbox\" name=\"Types\" value=\"WrongLanguagePair\"> Wrong language </label> </li><li> <label class=\"radio report-problem-modal\"> <input type=\"checkbox\" name=\"Types\" value=\"Underpriced\"> Underpriced project<div class=\"underpriced-reasons-container none\"> <ul class=\"unstyled underpriced-reasons-list\"> <li> <label class=\"radio\"> <input type=\"checkbox\" name=\"UnderpricedReasons\" value=\"HighWordDensity\"> High word density </label> </li><li> <label class=\"radio\"> <input type=\"checkbox\" name=\"UnderpricedReasons\" value=\"TechnicalContent\"> Technical content </label> </li><li> <label class=\"radio\"> <input type=\"checkbox\" name=\"UnderpricedReasons\" value=\"HighFormatting\"> High formatting </label> </li></ul></div></label> </li><li> <label class=\"radio report-problem-modal\"> <input type=\"checkbox\" name=\"Types\" value=\"Unworkable\"> Unworkable project </label> </li></ul> <a class=\"btn btn-std ws-submit disabled\" href=\"#\"><span class=\"btn-label\">Report Problem</span></a> </form></div><div class=\"modal-footer\"></div></div></div></div></div></div><div class=\"push\"></div></div><footer> <div id=\"footer-bottom\"> <div class=\"container\"> <div class=\"row\"> <div class=\"span3 col-sm-2\">Copyright Rev 2019.</div><div class=\"span4 col-sm-4\"> <a href=\"/about/terms\" rel=\"nofollow\">Terms of Service</a> | <a href=\"/about/privacy\" rel=\"nofollow\">Privacy Policy</a> </div><div class=\"span5 contact-info col-sm-6\">Need help? Email us at: <a href=\"mailto:support@rev.com\" class=\"\">support@rev.com</a> </div></div></div></div></footer> </div><div class=\"popup\" id=\"type-popup\" data-position=\"right\"> <ul> <li>Use the Rev certified template</li><li>Final output: Certified PDF</li></ul> </div><script type=\"text/javascript\">// bind the popup to the anchor var popup=new ft_Tooltip('type-popup'); popup.hover($('.oe-order-type-val'), 'right');</script><script type=\"text/javascript\">$(function (){$('.file-info').popover(); var zipBuildingModal=new ft_Modal(\"zip-building-progress\",{show: false});});</script><script type=\"text/javascript\">$(function (){var ft_page=new ft_AgentProjectDetails(242314989, 'TR0113602607P-1'); ft_RecentlyViewed.registerView('TR0113602607P-1', 'project');}); </script><script type=\"text/javascript\">if (window.TcRookieProgressInit){window.TcRookieProgressInit(14, false);}</script> <script type=\"text/javascript\">$(function(){$('.btn, .os-specific').addClass(window.RevBowser.getOsCssClass()); $('.faq-tooltip-link').popover({html: true, trigger: 'click', content: function(){return $('#' + $(this).data('q')).find('.answer').html();}}); $('.faq-tooltip-link-hover').popover({html: true, trigger: 'manual', animation: false, content: function(){return $('#' + $(this).data('q')).find('.answer').html();}}) .on(\"mouseenter\", function (){var _this=this; $(this).popover(\"show\"); $(this).siblings(\".popover\").on(\"mouseleave\", function (){$(_this).popover('hide');});}).on(\"mouseleave\", function (){var _this=this; setTimeout(function (){if (!$(\".popover:hover\").length){$(_this).popover(\"hide\");}}, 100);}); $('FORM').each(function(){var form=ft_Control.get(this); if (!form) form=new ft_Form(this);}); $('.infotip, .popover-tip').each(function (){$(this).popover();});}); </script> <script type=\"text/javascript\">rev_Mixpanel=new ft_Mixpanel('d24fd33359700c4000bbd1c190f60e32', 'mirlanochka@gmail.com', 'rev', false); </script> <script>$(function(){rev_Mixpanel.trackLinks(\"mixpanel-link\");}); </script> <script type=\"text/javascript\">var MTIProjectId='232a0719-41f6-4af7-91a7-3726538d2e6a'; (function(){var mtiTracking=document.createElement('script'); mtiTracking.type='text/javascript'; mtiTracking.async='true'; mtiTracking.src=('https:'==document.location.protocol?'https:':'http:')+'//fast.fonts.net/t/trackingCode.js'; (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild( mtiTracking );})(); </script> </body></html>";


var notificationController = (function () {

    var opts = {
        notification: false,
        audioNotification: false,
        soundName: ''
    };

    var iconPath = chrome.extension.getURL('icons/favicon.png');

    chrome.storage.sync.get([Settings.notificationEnabled,
                                   Settings.soundNotificationEnabled,
                                   Settings.soundName],function (items) {

        opts.notification = items[Settings.notificationEnabled] !== undefined && items[Settings.notificationEnabled];
        opts.audioNotification = items[Settings.soundNotificationEnabled] !== undefined && items[Settings.soundNotificationEnabled];
        opts.soundName = items[Settings.soundName] != undefined ? items[Settings.soundName] : '';
    });

    function messageNotification(data) {
        var opt = {
            iconUrl: iconPath,
            type: 'basic',
            title: 'Claimed.',
            message: 'Project <' + data.ProjectId  + '> was claimed!',
        };
        chrome.notifications.create('claimed',opt, function () {});
    }

    function soundNotification() {
        var audio = new Audio(Audios[opts.soundName]);
        audio.play();
    }

    function message(msg) {
        var opt = {
            iconUrl: iconPath,
            type: 'basic',
            title: 'Claimed.',
            message: msg,
        };
        chrome.notifications.create('message',opt, function () {});
    }

    return {
        claimedNotification : function (data) {
            if(opts.notification){
                messageNotification(data);
            }
            if(opts.audioNotification){
                soundNotification();
            }
        },
        foundNotification: function () {
            if(opts.notification){
                var opt = {
                    iconUrl: iconPath,
                    type: 'basic',
                    title: 'Found some projects',
                    message: 'We found some unclaimed projects',
                };
                chrome.notifications.create('found',opt, function () {});
            }
        },
        showMessage: function (msg) {
            message(msg);
        }
    }
})();

var claimController = (function (notification) {
    var _this = this;

    var parseProjects = function (projects) {

        notification.foundNotification();
        console.log('found some projects');
        for (let i = 0; i < projects.length; i++) {
            console.log([projects[i]]);
        }

        for (let i = 0; i < projects.length; i++) {
            var project = projects[i];
            if(!SupportedTranslations.includes(project.Language)){
                continue;
            }
            console.log(projects[i]);
            $.get(Urls.Details + project.ProjectId, (data, status) => {
                processDetails(data,status,project);
            });
        }
    };

    var processDetails = function(data, status, project){
        console.log(data);
        var doc = (new DOMParser()).parseFromString(detailsPageSource2,"text/html"); // TODO: detailsPageSource only for testing purpose, need to parse 'data'
        var detailsPage =  $(doc);
        if(isNoticed(doc)){
            console.log("Project is not available: " + project.ProjectId);
            return;
        }
        var form = $(detailsPage).find(DomStrings.claimForm.formId).first();
        if(form === undefined || form === null){
            return;
        }

        var action =  $(form).attr('action');
        action = action.startsWith(DomStrings.claimForm.revUrl) ? action : DomStrings.claimForm.revUrl + action;
        var dataPost = '';
        var hiddens = $(form).find('input[type=hidden]');
        hiddens.each(function (index, element) {
            dataPost += '&' + $(element).attr('name') + '=' + $(element).attr('value');
        });
        if(action !== undefined && dataPost !== ''){
            $.ajax({
                method:'POST',
                url: action,
                data: dataPost
            })
                .done((data) => {
                    processClaim(data,project);
                })
                .fail((data,status) => {
                    processErrorClaim(data);
                })
        }
    };

    var processClaim = function (data,project) {
        console.log(data);
        var doc = (new DOMParser()).parseFromString(data, "text/html");
        if(isError(doc)){
            console.log("Project is claimed or not available: " + project.ProjectId);
            return;
        }
        console.log('Done! Project Claimed ');
        notification.claimedNotification(project)
    };

    var processErrorClaim = function (data) {
        console.log('Fail:' + data);
    };

    var isNoticed = function (doc) {
      var noticed = doc.querySelector(DomStrings.detailsNotice);
      return noticed !== null ;
    };

    var isError = function (doc) {
        var error = doc.querySelector(DomStrings.claimError);
        var errorPage = doc.querySelector(DomStrings.claimErrorPage);
        return error !== null || errorPage !== null;
    };

    return {
        init: function () {
            chrome.runtime.onMessage.addListener(function (msg, sender, sendResponse) {
                if(msg.message === RevMessages.FreeProjects){
                    parseProjects(msg.payload);
                }
            });
        }
    }

})(notificationController);

var updateController = (function () {
        var registeredTabs = {};

        var isRegistered = function (tabId) {
            return registeredTabs[tabId] !== undefined;
        };

        var getState = function (tabId) {
            var state = registeredTabs[tabId];
            return state;
        };

        var startMonitoring = function(data){
            if(!isRegistered(data.tab.id)){
                registeredTabs[data.tab.id] = new State(data.tab.id, +data.interval);
            }
            var state = registeredTabs[data.tab.id];
            state.interval = +data.interval;
            state.tabUrl = data.tab.url;
            state.timer = setInterval(function () {
                updateTab(state.tabId);
            },state.interval * 1000);
            state.isRunning = true;
        };

        var stopMonitoring = function(tabId){
            var state = registeredTabs[tabId];
            if(state !== undefined){
                clearInterval(state.timer);
                state.timer = null;
                state.isRunning = false;
            }
        };

        var updateTab = function(tabId){
            var state = registeredTabs[tabId];
            if(!state){
                return;
            }
            chrome.tabs.update(state.tabId,{url: state.tabUrl});
            console.log("Update: " + state.tabUrl + ' ' + state.tabId);
        };

        return {
            isRegistered: function (tabId) {
                return isRegistered(tabId);
            },
            getState : function (tabId) {
                return getState(tabId);
            },
            start : function (data) {
                startMonitoring(data);
            },
            stop: function (data) {
                stopMonitoring(data.tab.id);
            }
        }
})();

claimController.init();
